# ADR 005: Adopt Centralized Structured Logging with ELK Stack

**Status:** Accepted
**Date:** 2026-01-23
**Author(s):** Tuaseen

## Context

Our application requires consistent, centralized logging to support:

* Debugging and root cause analysis across services.
* Monitoring application health and performance.
* Compliance and auditing requirements.
* Alerts for critical failures or anomalies.

Current logging options considered include local file-based logging, cloud-native logging, and centralized logging solutions.

## Decision

We will adopt a **centralized structured logging strategy** using **ELK Stack (Elasticsearch, Logstash, Kibana)** with the following key points:

* All application logs will be structured in **JSON format** for easy parsing and querying.
* Logs will be shipped from services via **Logstash or Fluent Bit** to **Elasticsearch**.
* **Kibana** will be used for dashboards, visualization, and alerting.
* Log levels: `ERROR`, `WARN`, `INFO`, `DEBUG`, with optional `TRACE` for detailed debugging.
* Sensitive data will be masked before logging to comply with security and privacy requirements.
* Implement correlation IDs for tracing requests across microservices.

## Consequences

**Positive:**

* Centralized, searchable logs improve observability and troubleshooting.
* Structured logs enable analytics and automated alerting.
* Correlation IDs allow end-to-end tracing of requests.
* Supports compliance with auditing requirements.

**Negative / Trade-offs:**

* Additional operational overhead for ELK Stack setup and maintenance.
* Potential storage and performance costs if log volume is high.
* Slight increase in application complexity for structured logging and log shipping.

**Mitigation:**

* Use managed Elasticsearch services (e.g., AWS OpenSearch) to reduce operational burden.
* Implement log rotation and retention policies.
* Apply sampling or rate-limiting for high-volume debug logs.

## Alternatives Considered

1. **Local file logging only** – Rejected. Hard to aggregate and analyze across services.
2. **Cloud provider native logging (CloudWatch, Stackdriver)** – Rejected. Less flexible for multi-cloud or on-prem integration.
3. **Graylog** – Rejected. ELK Stack provides more mature ecosystem and visualization tools.

## References

* ELK Stack Documentation: [https://www.elastic.co/what-is/elk-stack](https://www.elastic.co/what-is/elk-stack)
* Logging Best Practices: [https://12factor.net/logs](https://12factor.net/logs)
* “Documenting Architecture Decisions” by Michael Nygard: [https://cognitect.com/resources/adr](https://cognitect.com/resources/adr)


Do you want me to do that next?
